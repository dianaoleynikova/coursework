# üë• –í–Ω–µ—Å–∫–∏ —É—á–∞—Å–Ω–∏–∫—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É

## –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–º–∞–Ω–¥—É

**–ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É:** Blog Social Network  
**–¢–µ–º–∞:** –ë–ª–æ–≥ —É —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ–π –º–µ—Ä–µ–∂—ñ  
**–ö—É—Ä—Å:** –ë–∞–∑–∏ –¥–∞–Ω–∏—Ö  
**–î–∞—Ç–∞ –∑–¥–∞—á—ñ:** –ì—Ä—É–¥–µ–Ω—å 2025

---

## üßë‚Äçüíª –°–∫–ª–∞–¥ –∫–æ–º–∞–Ω–¥–∏

### –£—á–∞—Å–Ω–∏–∫ 1: –û–ª—î–π–Ω—ñ–∫–æ–≤–∞ –î—ñ–∞–Ω–∞

#### –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è:

**1. –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (25%)**

- –†–æ–∑—Ä–æ–±–∫–∞ –ø–æ–≤–Ω–æ—ó ER-–¥—ñ–∞–≥—Ä–∞–º–∏
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Prisma schema (`prisma/schema.prisma`)
- –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è 10 —Ç–∞–±–ª–∏—Ü—å:
  - users, posts, categories, tags, post_tags
  - comments, post_likes, comment_likes
  - followers, notifications
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –∑–≤'—è–∑–∫—ñ–≤ (Foreign Keys, ON DELETE cascades)
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 15+ —ñ–Ω–¥–µ–∫—Å—ñ–≤ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
- –î–æ–¥–∞–≤–∞–Ω–Ω—è CHECK constraints –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Å—Ö–µ–º–∏ (`docs/schema.md`)

**2. UserRepository - –ø–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è (20%)**

–§–∞–π–ª: `src/repositories/userRepository.js`

- ‚úÖ **CREATE:** `create()` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ bcrypt —Ö–µ—à—É–≤–∞–Ω–Ω—è–º
- ‚úÖ **READ:**
  - `findById()` - –ø–æ—à—É–∫ –∑–∞ ID –∑ —Ñ—ñ–ª—å—Ç—Ä–æ–º deleted_at
  - `findByUsername()` - –ø–æ—à—É–∫ –∑–∞ username
  - `findByEmail()` - –ø–æ—à—É–∫ –∑–∞ email
  - `search()` - –ø–æ—à—É–∫ –∑ ILIKE (case-insensitive)
- ‚úÖ **UPDATE:** `update()` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é –∑ timestamp
- ‚úÖ **DELETE:** `softDelete()` - –º'—è–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ deleted_at

**3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è UserRepository (15%)**

–§–∞–π–ª: `test/integration/user.test.js`

- –ù–∞–ø–∏—Å–∞–Ω–æ 12+ —Ç–µ—Å—Ç—ñ–≤:
  - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑ –≤–∞–ª—ñ–¥–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
  - –ü–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –¥—É–±–ª—ñ–∫–∞—Ç—ñ username
  - –ü–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –¥—É–±–ª—ñ–∫–∞—Ç—ñ email
  - –ü–æ—à—É–∫ –∑–∞ ID
  - –ü–æ—à—É–∫ –≤–∏–¥–∞–ª–µ–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–º–∞—î –±—É—Ç–∏ null)
  - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
  - –ü–æ—à—É–∫ –∑–∞ username —Ç–∞ full name
  - –ü–æ—Ä–æ–∂–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (`test/helpers/testSetup.js`)
- –§—É–Ω–∫—Ü—ñ—ó cleanDatabase(), setupTestDatabase(), teardownTestDatabase()

**4. Docker —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (15%)**

- –ü–æ–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è `docker-compose.yml`
- PostgreSQL 16 Alpine –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- pgAdmin –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è UI
- Healthcheck –¥–ª—è PostgreSQL
- Named volume –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è `.env` —Ç–∞ `.env.example`

**5. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É (10%)**

- `src/config/database.js` - Singleton Prisma Client
- `package.json` –∑ —É—Å—ñ–º–∞ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
- `jest.config.js` –¥–ª—è —Ç–µ—Å—Ç—ñ–≤
- `.gitignore` –¥–ª—è –±–µ–∑–ø–µ–∫–∏

**6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (15%)**

- –û—Å–Ω–æ–≤–Ω–∏–π `README.md` –∑ –ø–æ–≤–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏
- `docs/schema.md` –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –æ–ø–∏—Å–æ–º —Ç–∞–±–ª–∏—Ü—å
- Troubleshooting —Å–µ–∫—Ü—ñ—è
- –û–ø–∏—Å –≤—Å—ñ—Ö –∫–æ–º–∞–Ω–¥ —Ç–∞ —Å–∫—Ä–∏–ø—Ç—ñ–≤

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** ~50% –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥—É –ø—Ä–æ–µ–∫—Ç—É

---

### –£—á–∞—Å–Ω–∏–∫ 2: –¢–µ—Ç–µ—Ä—É–∫ –î–∞—Ä—ñ—è

#### –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è:

**1. PostRepository - —Å–∫–ª–∞–¥–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è (30%)**

–§–∞–π–ª: `src/repositories/postRepository.js`

- ‚úÖ **CREATE (—Å–∫–ª–∞–¥–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π –∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏):** `create(postData, tagNames)`
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è Prisma `$transaction`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö slug
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É—é—á–∏—Ö slug —Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞
  - UPSERT –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è —Ç–µ–≥—ñ–≤ (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∞–±–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è `usageCount` –¥–ª—è —Ç–µ–≥—ñ–≤
  - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–≤'—è–∑–∫—ñ–≤ –≤ –ø—Ä–æ–º—ñ–∂–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ `post_tags`
  - –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø–æ—Å—Ç–∞ –∑ —É—Å—ñ–º–∞ –∑–≤'—è–∑–∫–∞–º–∏ (author, category, tags)
- ‚úÖ **READ:**
  - `findById()` - –∑ JOIN author, category, tags, \_count –¥–ª—è likes/comments
  - `findPublished()` - —Ç—ñ–ª—å–∫–∏ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω—ñ + –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è (LIMIT/OFFSET)
- ‚úÖ **UPDATE:** `update(id, authorId, updateData)`
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É (—Ç—ñ–ª—å–∫–∏ –∞–≤—Ç–æ—Ä –º–æ–∂–µ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏)
  - –û–ø—Ç–∏–º—ñ—Å—Ç–∏—á–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è publishedAt –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ **DELETE:** `softDelete(id, authorId)`
  - –ú'—è–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
- ‚úÖ **UTILITY:** `incrementViewCount()` - –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤

**2. –£—Ç–∏–ª—ñ—Ç–∏ (10%)**

`src/utils/slugify.js`:

- `createSlug()` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É –≤ URL-friendly —Ñ–æ—Ä–º–∞—Ç
- `createUniqueSlug()` - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö slug –∑ –ª—ñ—á–∏–ª—å–Ω–∏–∫–æ–º

`src/utils/validators.js`:

- `validateEmail()` - regex –≤–∞–ª—ñ–¥–∞—Ü—ñ—è email
- `validateUsername()` - 3-50 —Å–∏–º–≤–æ–ª—ñ–≤, alphanumeric
- `validatePassword()` - –º—ñ–Ω—ñ–º—É–º 8 —Å–∏–º–≤–æ–ª—ñ–≤
- `validatePostTitle()` - 5-255 —Å–∏–º–≤–æ–ª—ñ–≤
- `validatePostContent()` - –º—ñ–Ω—ñ–º—É–º 10 —Å–∏–º–≤–æ–ª—ñ–≤

**3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è PostRepository (20%)**

–§–∞–π–ª: `test/integration/post.test.js`

- –ù–∞–ø–∏—Å–∞–Ω–æ 15+ —Ç–µ—Å—Ç—ñ–≤:
  - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç–∞ –±–µ–∑ —Ç–µ–≥—ñ–≤
  - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç–∞ –∑ —Ç–µ–≥–∞–º–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö slug
  - –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç usageCount —Ç–µ–≥—ñ–≤
  - –ü–æ—à—É–∫ –∑–∞ ID –∑ —É—Å—ñ–º–∞ –∑–≤'—è–∑–∫–∞–º–∏
  - –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤–∏–¥–∞–ª–µ–Ω–∏—Ö –ø–æ—Å—Ç—ñ–≤
  - –¢—ñ–ª—å–∫–∏ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω—ñ –ø–æ—Å—Ç–∏ –≤ findPublished()
  - –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è
  - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –∞–≤—Ç–æ—Ä–æ–º
  - –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ —á—É–∂–æ–≥–æ –ø–æ—Å—Ç–∞
  - –ú'—è–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
  - –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ —á—É–∂–æ–≥–æ –ø–æ—Å—Ç–∞
  - –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç view_count

**4. Seed —Å–∫—Ä–∏–ø—Ç (20%)**

–§–∞–π–ª: `src/scripts/seed.js`

- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 3 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (john_doe, jane_smith, bob_wilson)
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 3 –∫–∞—Ç–µ–≥–æ—Ä—ñ–π (Technology, Design, Data Science)
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 6 —Ç–µ–≥—ñ–≤ (JavaScript, React, Node.js, CSS, Python, ML)
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è 5 –ø–æ—Å—Ç—ñ–≤ –∑ —Ä–µ–∞–ª—å–Ω–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- –ó–≤'—è–∑—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤ –∑ —Ç–µ–≥–∞–º–∏ —á–µ—Ä–µ–∑ post_tags
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è usageCount –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–µ–≥–∞
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 3+ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 6+ –ª–∞–π–∫—ñ–≤
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 4 –ø—ñ–¥–ø–∏—Å–æ–∫ (followers)
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 3+ —Å–ø–æ–≤—ñ—â–µ–Ω—å
- –î–µ—Ç–∞–ª—å–Ω–∏–π –ª–æ–≥ –ø—Ä–æ—Ü–µ—Å—É
- –¢–µ—Å—Ç–æ–≤—ñ credentials –¥–ª—è –≤—Ö–æ–¥—É

**5. –°–∫–ª–∞–¥–Ω—ñ SQL –∑–∞–ø–∏—Ç–∏ (10%)**

–ü—Ä–∏–∫–ª–∞–¥–∏ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö –∫–æ–¥—É:

- **–¢–æ–ø-10 –∞–≤—Ç–æ—Ä—ñ–≤ –∑–∞ –ª–∞–π–∫–∞–º–∏:**

  - JOIN users, posts, post_likes
  - GROUP BY author
  - COUNT DISTINCT –¥–ª—è –ª–∞–π–∫—ñ–≤
  - SUM –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤
  - ORDER BY likes DESC

- **–¢—Ä–µ–Ω–¥–æ–≤—ñ —Ç–µ–≥–∏:**

  - CTE –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - Window functions (ROW_NUMBER)
  - FILTER –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–µ—Ä—ñ–æ–¥—ñ–≤
  - –û–±—á–∏—Å–ª–µ–Ω–Ω—è –≤—ñ–¥—Å–æ—Ç–∫–∞ —Ä–æ—Å—Ç—É

- **–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä—ñ—á–∫–∞:**
  - –ü—ñ–¥–∑–∞–ø–∏—Ç–∏ –¥–ª—è –ø—ñ–¥–ø–∏—Å–æ–∫
  - –°–∫–ª–∞–¥–Ω–∞ –ª–æ–≥—ñ–∫–∞ relevance_score
  - –ú–Ω–æ–∂–∏–Ω–Ω—ñ JOIN

**6. –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª (10%)**

–§–∞–π–ª: `src/index.js`

- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è dotenv
- –¢–µ—Å—Ç –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
- –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è repositories
- Graceful shutdown –∑ disconnect

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** ~50% –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥—É –ø—Ä–æ–µ–∫—Ç—É

---

## üìä –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç—É

### –†–æ–∑–ø–æ–¥—ñ–ª —Ä–æ–±–æ—Ç–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç         | –£—á–∞—Å–Ω–∏–∫ 1 | –£—á–∞—Å–Ω–∏–∫ 2 |
| ----------------- | --------- | --------- |
| –°—Ö–µ–º–∞ –ë–î (Prisma) | ‚úÖ 100%   | -         |
| UserRepository    | ‚úÖ 100%   | -         |
| PostRepository    | -         | ‚úÖ 100%   |
| Utilities         | -         | ‚úÖ 100%   |
| User Tests        | ‚úÖ 100%   | -         |
| Post Tests        | -         | ‚úÖ 100%   |
| Test Setup        | ‚úÖ 100%   | -         |
| Docker            | ‚úÖ 100%   | -         |
| Seed Script       | -         | ‚úÖ 100%   |
| Main App          | -         | ‚úÖ 100%   |
| Documentation     | ‚úÖ 70%    | ‚úÖ 30%    |

### –ó–∞–≥–∞–ª—å–Ω—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏

- **–í—Å—å–æ–≥–æ —Ñ–∞–π–ª—ñ–≤:** ~20
- **–†—è–¥–∫—ñ–≤ –∫–æ–¥—É:** ~2500+
- **–¢–µ—Å—Ç—ñ–≤:** 25+
- **–¢–∞–±–ª–∏—Ü—å –≤ –ë–î:** 10
- **Repositories:** 2
- **–ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏:** ~85% –∫—Ä–∏—Ç–∏—á–Ω–æ—ó –ª–æ–≥—ñ–∫–∏
